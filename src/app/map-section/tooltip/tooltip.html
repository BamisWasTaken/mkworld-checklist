<div class="tooltip" [class]="'tooltip-' + position()">
  <button class="close-button" (click)="onClose()" aria-label="Close tooltip">
    <span class="close-icon">Ã—</span>
  </button>

  <div class="description-container">
    <img
      [src]="checklistModel().collectibleModel!.collectibleType === CollectibleType.PEACH_COIN ? '/imgs/stickers/random-sticker.webp' : `/imgs/stickers/sticker-${checklistModel().index}.webp`"
      [alt]="
        checklistModel().collectibleModel!.collectibleType === CollectibleType.PEACH_COIN
          ? 'STICKERS.SHARED.RANDOM_STICKER_ALT_TEXT'
          : ('STICKERS.' + checklistModel().stickerAltText | translate)
      "
      class="sticker-thumbnail"
    />
    <p class="description">
      @switch (checklistModel().collectibleModel!.collectibleType) {
        @case (CollectibleType.PEACH_COIN) {
          {{ 'STICKERS.SHARED.PEACH_COIN_TOOLTIP' | translate }}
        }
        @case (CollectibleType.P_SWITCH) {
          {{ 'STICKERS.' + checklistModel().collectibleModel!.missionName | translate }}
        }
        @case (CollectibleType.QUESTIONMARK_PANEL) {
          {{ 'STICKERS.SHARED.QUESTIONMARK_PANEL_TOOLTIP' | translate }}
        }
      }
    </p>
  </div>

  @if (checklistModel().collectibleModel!.youtubeId) {
    <iframe
      width="100%"
      [src]="youtubeLink()"
      title="YouTube video player"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin"
      allowfullscreen
    ></iframe>
  }

  <p class="instruction">{{ 'STICKERS.' + checklistModel().instructions | translate }}</p>

  <button class="collect-button" [class.checked]="checklistModel().checked" (click)="onChecked()">
    <div class="checkbox">
      <div class="checkmark"></div>
    </div>
    <span>Collected</span>
  </button>
</div>
