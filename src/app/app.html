<mkworld-header></mkworld-header>

<mkworld-progress-bar [progress]="progress()" [total]="total"></mkworld-progress-bar>

<!-- Main Content -->
<main class="flex flex-col items-center gap-8 px-4">
  <mkworld-sticker-album
    class="w-full max-w-5xl"
    [checklistItems]="checklistItemsWithSticker()"
    (onChecklistItemChecked)="onChecklistItemChecked($event)"
  ></mkworld-sticker-album>

  <mkworld-map-section
    class="w-full max-w-5xl"
    [checklistItems]="checklistItems()"
    [disappearingChecklistItems]="disappearingChecklistItems()"
    (showTooltip)="onShowTooltip($event)"
  ></mkworld-map-section>

  <mkworld-todo-section
    class="w-full max-w-3xl overflow-hidden"
    [checklistItems]="checklistItems()"
    [disappearingChecklistItems]="disappearingChecklistItems()"
  ></mkworld-todo-section>
</main>

@if (tooltipData()) {
  <mkworld-tooltip
    class="tooltip"
    [tooltipData]="tooltipData()!"
    [checklistItems]="checklistItems()"
    (close)="onTooltipClose()"
    (checked)="onChecklistItemChecked($event)"
  />
}

<mkworld-footer></mkworld-footer>
